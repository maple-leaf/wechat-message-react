{"version":3,"file":"static/webpack/static/development/pages/index.js.fccc37fd65edd02f81b0.hot-update.js","sources":["webpack:///./components/wechat-message-bridge.tsx"],"sourcesContent":["import styled from 'styled-components';\nimport WeChatMessage, { MessageProps } from \"./wechat-message\";\nimport LinkMessage, { LinkMessageProps, ILinkMessage } from \"./link-message\";\nimport VoteMessage from './vote-message';\nimport useEmojiRain from './emoji-rain';\nimport AvatarWithVideoMark from \"./avatar-with-video-mark\";\n\ntype Props = MessageProps | LinkMessageProps;\n\nconst MessageBridge = ({ className, message }: Props): React.ReactElement => {\n    let renderFn;\n    let onClick;\n\n    switch(message.type) {\n        case 'link':\n            renderFn = () => <LinkMessage message={message as ILinkMessage} />;\n            onClick = () => alert((message as ILinkMessage).url);\n            break;\n        case 'vote':\n            renderFn = () => <VoteMessage message={message}/>;\n            break;\n        default:\n            break;\n    }\n\n    const emojiRainRender = useEmojiRain(message.content);\n\n    const defaultRender = () => \n                           <WeChatMessage\n                               className={className}\n                               onClick={onClick}\n                               message={message}\n                               render={renderFn}\n                               messagePostfix={AvatarWithVideoMark}\n                           />;\n\n    return emojiRainRender ? emojiRainRender(defaultRender) : defaultRender();\n}\n\nconst StyledMessageBridge = styled(MessageBridge)`\n    margin-bottom: 14px;\n    min-width: ${props => props.message.type === 'normal' ? '80px' : '120px'};\n`;\n\nexport default StyledMessageBridge;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AATA;AACA;AAWA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AACA;AAQA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAGA;;;;A","sourceRoot":""}