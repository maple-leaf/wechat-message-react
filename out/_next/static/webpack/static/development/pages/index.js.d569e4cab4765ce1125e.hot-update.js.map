{"version":3,"file":"static/webpack/static/development/pages/index.js.d569e4cab4765ce1125e.hot-update.js","sources":["webpack:///./components/image-message.tsx"],"sourcesContent":["import { useState, useMemo } from 'react';\nimport { Role } from './wechat-message';\nimport styled from 'styled-components';\n\nexport interface IImageMessage {\n    thumbnail: string,\n    image: string,\n    type: 'image',\n    role: Role,\n}\nexport interface ImageMessageProps {\n    message: IImageMessage,\n    className?: string,\n}\n\nconst StyledImageMessageThumb = styled.img`\n    max-width: 60px;\n`;\n\nconst StyledImageMessageViewer = styled.div.attrs(props => ({\n    style: {\n        left: `${props.left}px`,\n        right: `${props.right}px`,\n    }\n}))`\n    position: fixed;\n    top: 40px;\n    bottom: 80px;\n    pointer-events: none;\n`;\n\nconst ImageMessage = ({ message }: ImageMessageProps):React.ReactElement => {\n    const [visible, setVisible] = useState(false);\n    const rect = useMemo(() => {\n        const container = document.body.querySelector('#panelContent');\n        return container.getBoundingClientRect();\n    });\n    return (\n        <>\n            <StyledImageMessageThumb src={message.thumbnail} onClick={() => setVisible(true)}/>\n            {\n                    visible\n                        ? (\n                            <StyledImageMessageViewer left={rect.left} right={rect.right}>\n                            </StyledImageMessageViewer>\n                        )\n                        : null\n            }\n        </>\n    )\n}\n\nexport default ImageMessage;\n"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AAEA;AAaA;AAAA;AAAA;AAAA;AAIA;AAAA;AACA;AACA;AACA;AAFA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AAWA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;;;;A","sourceRoot":""}